<!DOCTYPE html>
<html lang="en-US" class="jose blue">
    <head>
        <meta charset="utf-8" />
        <title>JRST</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" type="text/css" href="./css/font.css" />
        <link rel="stylesheet" type="text/css" href="./css/logo.css" />
        <link rel="stylesheet" type="text/css" href="./css/nav.css" />
        <link rel="stylesheet" type="text/css" href="./css/utility.css" />
        <link rel="stylesheet" type="text/css" href="./css/header.css" />
        <style>
            :root {
                --white: hsla(0, 100%, 100%, 1);
                --blue-secondary: hsla(220, 61%, 72%, 1);
                --light-blue-secondary: hsla(220, 86%, 36%, 1);
                --dark-blue-secondary: hsla(220, 100%, 21%, 1);
                --red: hsla(353, 85%, 44%, 1);
                --blue: hsla(220, 100%, 33%, 1);
            }

            .jose {
                margin: 0;
            }

            .jose.blue {
                background-color: var(--blue);
            }

            .jose .body {
                margin: 0;
                overflow-x: hidden;
            }

            /* background text */
            .jose .text-background > .mabuhi {
                width: fit-content;
                margin: 0;
                overflow: hidden;
                text-wrap: nowrap;
                -webkit-user-select: none;
                -moz-user-select: none;
                -o-user-select: none;
                user-select: none;
                z-index: -1;
            }
            
            .jose .text-background > .mabuhi > .text {
                position: relative;
                margin-left: 6px;
            }

            .jose .text-background > .mabuhi > .text > .mabu {
                display: inline-block;
                position: absolute;
                font-size: 9.3pt;
                transform: rotate(-90deg);
                left: -15px;
                bottom: 13px;
            }

            .jose .text-background > .mabuhi > .text > .hi {
                font-size: 40pt;
                line-height: 34pt;
                padding-left: 11px;
            }

            /* .jose .text-background > .mabuhi > .text > .hi.ballega {
                line-height: 28pt;
            } */

            .jose.blue .text-background .mabuhi {
                color: var(--light-blue-secondary);
            }
            
        </style>
    </head>
    <body class="body">
        <div class="text-background">
        </div>
    </body>
    <script>

        window.addEventListener("load", function(event) {
            const backgroundText = ".jose .text-background";

            const paragraphElement = document.createElement("p");
            paragraphElement.classList.add("mabuhi");
            paragraphElement.classList.add("animate");
            document.querySelector(backgroundText).appendChild(paragraphElement);

            let backgroundTextWidth = paragraphElement.scrollWidth;
            while(backgroundTextWidth < window.screen.width) {
                const textSpan = document.createElement("span");
                textSpan.classList.add("text");

                const mabuTextSpan = document.createElement("span");
                mabuTextSpan.classList.add("barabara");
                mabuTextSpan.classList.add("mabu");
                mabuTextSpan.textContent="MABU";

                const hiTextSpan = document.createElement("span");
                hiTextSpan.classList.add("hi");
                hiTextSpan.classList.add("ballega");
                hiTextSpan.textContent="Hi!";

                textSpan.appendChild(mabuTextSpan);
                textSpan.appendChild(hiTextSpan);
                paragraphElement.appendChild(textSpan);
                
                backgroundTextWidth = document.querySelector(backgroundText).scrollWidth;
            }

            // childrenNode = paragraphElement.children;
            // for (let i = 0, len = Math.round(childrenNode.length/8); i < len; i++) {
            //     paragraphElement.appendChild(childrenNode[i].cloneNode(true));
            // }

            let backgroundTextHeight = document.querySelector(backgroundText).scrollHeight;
            while (backgroundTextHeight < window.innerHeight) {
                document.querySelector(backgroundText).appendChild(document.querySelector(backgroundText + " .mabuhi:first-child").cloneNode(true)); 
                backgroundTextHeight = document.querySelector(backgroundText).scrollHeight;
            }

            // const paragraphHeight = document.querySelector(backgroundText + " > .mabuhi:last-child").offsetHeight;
            // while (backgroundTextHeight - window.innerHeight > paragraphHeight) {
            //     document.querySelector(backgroundText + " > .mabuhi:last-child").remove();
            //     backgroundTextHeight = document.querySelector(backgroundText).scrollHeight;
            // }
            
        })

        // window.addEventListener("resize", function(event) {
        //     const backgroundText = ".jose .text-background";
        //     const backgroundTextWidth = document.querySelector(backgroundText).getBoundingClientRect().width;

        //     while(backgroundTextWidth < window.screen.width) {
        //         const textSpan = document.createElement("span");
        //         textSpan.classList.add("text");

        //         const mabuTextSpan = document.createElement("span");
        //         mabuTextSpan.classList.add("barabara");
        //         mabuTextSpan.classList.add("mabu");
        //         mabuTextSpan.textContent="MABU";

        //         const hiTextSpan = document.createElement("span");
        //         hiTextSpan.classList.add("hi");
        //         hiTextSpan.classList.add("ballega");
        //         hiTextSpan.textContent="Hi!";

        //         textSpan.appendChild(mabuTextSpan);
        //         textSpan.appendChild(hiTextSpan);
        //         paragraphElement.appendChild(textSpan);

        //         document.querySelector(backgroundText).appendChild(paragraphElement);
        //         document.querySelector(backgroundText).appendChild(paragraphElement);
        //     }

        //     while(previousHeight < window.screen.height) {
        //         const paragraphElement = document.createElement("p");
        //         paragraphElement.classList.add("mabuhi");

        //         document.querySelector(backgroundText).appendChild(paragraphElement);
        //     }

        //     previousHeight = window.screen.height;
        // })
    </script>
</html>